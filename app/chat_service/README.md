1. chat聊天记录表,人物关系表，群组消息表
2. 涉及websocket功能，判断用户是否注册--> 注册 --> 发送单独客户端
3. 服务器发布消息给所有客户端

4. SendClientMsg // 发送给指定客户端
5. SendSystemMsg // 服务器发送系统消息

6. 消息缓存-->
   1. 连接时，读取缓存，查找未接收的消息
   2. 发送消息时，存储到redis中，
   3.

7.  数据：时间，用户名，用户Id，发送消息，目标用户
     |
    连接————>创建客户端，保存时间，conn等 ——>读取缓存中信息，是否存在未接收信息
     |
    发送消息，将客户端存储到字典中
     |
    从字典中找到目标用户客户端————>如果在线————>直接发送，
                            ————>如果未在线————>放入redis缓存

     持续发送心跳，如果心跳超时，自动将该用户连接断开
8. 持续监听消息

数据
消息msg
时间，类型，消息Id,消息内容，作者


~~来源类型：client，system---  from int~~
发送者：userId
目标用户：UserId